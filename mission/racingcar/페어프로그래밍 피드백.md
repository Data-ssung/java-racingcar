🙌 페어프로그래밍 피드백 정리
===
Car class 편 정리 
---

#### 🚩 목차
- [자동차 객체 생성과 동시에 이름 길이 검증 하기
](#자동차-객체-생성과-동시에-이름-길이-검증-하기
)
- [리팩터링](#리팩터링)

---

### 자동차 객체 생성과 동시에 이름 길이 검증 하기
- 구현 규칙 : 자동차의 이름길이가 5를 넘을 수 없음 
- 이름값을 `Ready` 클래스에서 검증 후, `Car` 클래스에서 `car` 객체 생성하도록 설계

✔ 코드 문제1 : 구현 과정에서 `Ready`를 실행 하지 못하면, 이름 길이가 5가 넘는 `car` 객체를 생성함

✔ 코드 문제2 : 2개 이상의 `car` 객체를 생성할 때마다, `Ready` 클래스의 코드 중복이 발생함 

👉 솔루션1 : `car` 객체를 생성할 때, 이름 길이 검증이 되도록 설계하기

👉 솔루션2 : input 객체를 `Ready` 클래스 보다는, `Car` 클래스에서 처리하도록 기능 구현 

#### 솔루션 적용
```java
public class Car {
    private static final String NAME_LENGTH_LIMIT_VALUE = 5;
    
    private final String name; 
    int position;

    // 생성자 
    public Car(String name, int position) {
        nameValidate(name); // 이름 길이 검증하기 
        this.name = name;   // 이름 값 부여
        this.position = name;
    }

    // 메서드
    public void nameValidate(String name) {
        if (name.length > NAME_LENGTH_LIMIT_VALUE) {
            throw new IllegalArgumentException("이름 길이가 5를 넘을 수 없습니다.")
        }
    }

}
```
#### `car` 객체 생성하기
- `name`이라는 매게 변수가 있는 생성자를 만들 때, 이름 길이 검증을 진행
```java
public static void main(String[] args) {
    Car car = new Car(); // 생성자

    Car bunsan_car = car.createCar("busan","0")
    Car seoul_car = car.createCar("seoul","0")
}
```
---
### `car` 객체의 `position` 초기값 설정하기
- 자동차 경주 프로그램에서는 `position` 초기값이 항상 `0`을 가짐
- `car` 객체를 생성할 때, `position` 초기값을 `0`으로 설정하기 

✔ 코드 문제 : `position`의 초기값을 설정하지 않아, `main`클래스에서 `car`를 생성할 때마다 `position` 값을 지정해야 함 

👉 솔루션 : `car` 객체를 생성할 때, 이름 길이 검증이 되도록 설계하기

#### 솔루션 적용
```java
public class Car {
    private static final String NAME_LENGTH_LIMIT_VALUE = 5;
    
    private final String name; 
    int position;

    public Car(String name) {
        nameValidate(name); 
        this.name = name;
        this.position = 0;
    }

    public Car(String name, int position) {
        nameValidate(name);  
        this.name = name;   
        this.position = name;
    }

    // 메서드
    public void nameValidate(String name) {
        if (name.length > NAME_LENGTH_LIMIT_VALUE) {
            throw new IllegalArgumentException("이름 길이가 5를 넘을 수 없습니다.")
        }
    }

}

---

### 리팩터링 
**메서드명 네이밍**
- 객체에게 메서드를 이용해서 메시지를 던지는 식으로 만들기 ex) `car.createPlayerList`
- 구글 번역 사용해보기 

**예외처리**
- `IllegalArgumentException` : 사용자가 값을 잘 못 입력했을 때 사용(매개변수가 의도하지 않은 상황을 유발시킬 때) 
- `IllegalStateException` : 사용자 명령을 내렸는데, 그 명령을 수행할 수 없는 때 사용(메소드를 호출하기 위한 상태가 아닐 때 사용)

**매직넘버 상수 선언** 
- 매직넘버는 상수로 선언해서 가독성을 높이기 ex) `5` -> `NAME_LENGTH_LIMIT_VALUE`
- 변수명이 길더라도 의미가 정확하게 전달되도록 네이밍하기 
- `static final 자료형 변수명` : 클래스 내에서 상수 선언
- `public static final 자료형 변수명` : 다른 클래스에서 사용하도록 상수 선언
- `private static final 자료형 변수명` : 해당 클래스에서만 사용하도록 상수 선언
- `Ctrl + Alt + C` : 인텔리제이에서 상수 변수 생성 단축키 

**Refactor Rename**
- java 패키지명은 **소문자**로만 작성하기
- `Shift + F6` : 인텔리제이에서 패키지명 변경 단축키

**클래스 선언 순서**
- `상수`, `클래스 변수`, `인스턴스 변수`, `생성자`, `메서드`, `getter/setter`, `equals&hashcode$toString` 
```java
public class Car {
    static final String 상수;
    static String 클래스_변수;
    String 인스턴스_변수;

    public 생성자() {}
    
    void 메서드() {
        String 지역_변수;
        ...
    }
}
```

**클래스 변수 vs 인스턴스 변수**
- 공통점 : 같은 클래스 내에서 선언
- 클래스 변수와 인스턴스 변수의 가장 큰 차이점은 생성시기

||클래스 변수|인스턴스 변수|
|:---:|:---:|:---:|
|생성시기|클래스가 메모리에 올라갈 때|`new` 이용해서 인스턴스가 생성될 때|

```java
public class Car{
    static String 클래스_변수;
    String 인스턴스_변수;

    public static void main(String[] args) {
        System.out.println(클래스_변수); // 정상 출력
        System.out.println(인스턴스_변수); // 에러 발생
    }
```
- 클래스가 메모리에 올라갈 때, 생성되므로 클래스 변수 바로 출력이 가능
- 인스턴스 변수는 `new`를 이용해서 인스턴스를 생성하지 않았기때문에, 에러발생

```java
public class Car{
    static String 클래스_변수;
    String 인스턴스_변수;

    public static void main(String[] args) {
        Car car = new Car(); // 인스턴스 생성

        System.out.println(클래스_변수); 
        System.out.println(car.인스턴스_변수); 
    }
``` 
- `new` 키워드를 이용해서 인스턴스 생성하면 하`인스턴스_변수` 출력이 가능

#### 페어프로그래밍 정리
- 2:12